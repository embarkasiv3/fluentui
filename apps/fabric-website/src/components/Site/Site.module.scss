@import '../../styles/variables';
@import '../../styles/mixins';

// Element that wraps everything except for the header
.siteWrapper {
  margin: 0 auto;
  max-width: $App-maximumWidth-sm;
  position: relative;
  display: flex;
  flex-direction: column;
  font-size: 16px; // @TODO replace with fluent variable

  &.fullWidth {
    @include ms-bgColor-white;
    max-width: 100%;
  }
}

// Nav is hidden off screen by default
.siteNavScrollWrapper {
  -webkit-overflow-scrolling: touch; // Improves scrolling performance
  width: $Nav-width-sm;
}

@supports (position: sticky) {
  .siteNavScrollWrapper {
    max-height: 100vh;
    height: calc(100vh - #{$TopNav-height});
    position: sticky;
    top: 0;
  }
}

.siteWrapper.fullWidth .siteContent {
  flex: 1;
}

.siteWrapper:not(.fullWidth) .siteContent {
  @include ms-bgColor-gray10;
}

.siteContent {
  position: relative;
  min-height: calc(100vh - #{$TopNav-height});

  @include high-contrast {
    border-right: 1px solid WindowText;
    border-left: 1px solid WindowText;
    border-bottom: 1px solid WindowText;
  }
}

@media only screen and (max-width: $uhf-screen-max-mobile) {
  .siteWrapper:not(.fullWidth) .siteContent {
    @include contentPadding($App-padding-sm, 50px);
  }

  .siteNavScrollWrapper {
    display: none;
  }
}

// Show the nav at all times, to the left of the content
@media screen and (min-width: $uhf-screen-min-mobile) {
  .siteWrapper {
    max-width: $App-maximumWidth-lg;
    flex-direction: row;
    justify-content: center;
    &:not(.fullWidth) {
      @include ms-padding-right($App-padding-right-lg);
      @include ms-padding-left($App-padding-left-lg);
    }
  }

  .siteNavWrapper {
    padding: $App-padding-lg $App-padding-left-lg 0 0;
  }

  .siteNavHeader {
    min-height: 84px;
  }

  .siteWrapper:not(.fullWidth) .siteContent {
    @include ms-padding-left($App-padding-md);
    max-width: calc(100% - #{$Nav-width-sm}); // IE needs max-width, it was ignoring width
    width: calc(100% - #{$Nav-width-sm});
  }
}

@media screen and (min-width: $uhf-screen-min-lg) {
  .siteWrapper {
    max-width: $App-maximumWidth-lg;

    &:not(.fullWidth) .siteContent {
      max-width: calc(100% - #{$Nav-width-lg});
      width: calc(100% - #{$Nav-width-lg});
    }
  }

  .siteNavScrollWrapper {
    width: $Nav-width-lg;
  }
}
